<!--

<label for="recipe_name_{{$index}}">Name</label>
<input class="input" type="text" ng-model="$ctrl.recipe.name"/>

<label for="recipe_calorie_count_{{$index}}">Calorie Count</label>
<input class="input" type="text" ng-model="$ctrl.recipe.calorie_count"/>

<div ng-repeat="ingredient in $ctrl.recipe.ingredients">
<div class="link-item">{{ingredient.name}}</div>
<div class="link-item-action" ng-click="$ctrl.removeIngredient($ctrl.recipe, $index)">x</div>
</div>

<button class="button color-pink" ng-click="$ctrl.updateRecipe()">Save</button>
 
 -->

<h3>Change {{$ctrl.recipe.name}}</h3>

<input type="text" class="input" ng-model="$ctrl.recipe.name" placeholder="Recipe Title" />
<input type="text" class="input" ng-model="$ctrl.recipe.calorie_count" placeholder="Calorie Count" />

<div class="suggestionInput" ng-blur="$ctrl.toggleIngredientSuggestions(false)">
    <input type="text" class="input"  ng-change="$ctrl.checkIfIngredientSuggestionsShouldShow()" ng-model="$ctrl.newIngredient.name" placeholder="Ingredient Name" />
    <div class="suggestionContainer" ng-show="$ctrl.showIngredientSuggestions">
        <div class="suggestionItem color-green" ng-click="$ctrl.updateIngredientField(ingredient)" ng-repeat="ingredient in $ctrl.ingredientSuggestions | filter:$ctrl.newIngredient.name">{{ingredient.name}}</div>
    </div>
</div>

<input type="text" class="input" ng-model="$ctrl.newIngredient.quantity" placeholder="Quantity" />

<div class="suggestionInput" ng-blur="$ctrl.toggleQuantityTypeSuggestions(false)" >
    <input type="text" class="input" ng-change="$ctrl.checkIfQuantityTypeSuggestionsShouldShow()" ng-model="$ctrl.newIngredient.quantity_type" placeholder="Quantity Type" />
    <div class="suggestionContainer" ng-show="$ctrl.showQuantityTypeSuggestions">
        <div class="suggestionItem color-green" ng-click="$ctrl.updateQuantityTypeField(quantityType)" ng-repeat="quantityType in $ctrl.quantityTypeSuggestions | filter:$ctrl.newIngredient.quantity_type">{{quantityType.name}}</div>
    </div>
</div>

<button class="button color-pink" ng-click="$ctrl.addIngredient($ctrl.recipe)">Add Ingredient</button>

<div ng-repeat="ingredient in $ctrl.recipe.ingredients track by $index">
    <div class="link-item">{{ingredient.name}}  {{ingredient.quantity}}  {{ingredient.quantity_type}}</div>
    <div class="link-item-action" ng-click="$ctrl.removeIngredient($ctrl.recipe, $index)">x</div>
</div>

<button class="button color-pink" ng-click="$ctrl.updateRecipe()">Done!</button>